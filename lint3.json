[{"filePath":"D:\\masterkeylabsv2.0\\src\\components\\ExtinctionTimer.js","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\n  4 | export default function ExtinctionTimer({ targetDate, t }) {\n  5 |     // 540 days fallback ONLY for dev/demo rendering if no ISO targetDate is provided\n> 6 |     const fallbackTarget = useRef(new Date(Date.now() + 540 * 24 * 60 * 60 * 1000).toISOString()).current;\n    |                                            ^^^^^^^^^^ Cannot call impure function\n  7 |\n  8 |     const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n  9 |     const reqRef = useRef();","line":6,"column":44,"nodeType":null,"endLine":6,"endColumn":54}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nexport default function ExtinctionTimer({ targetDate, t }) {\r\n    // 540 days fallback ONLY for dev/demo rendering if no ISO targetDate is provided\r\n    const fallbackTarget = useRef(new Date(Date.now() + 540 * 24 * 60 * 60 * 1000).toISOString()).current;\r\n\r\n    const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });\r\n    const reqRef = useRef();\r\n\r\n    useEffect(() => {\r\n        // Enforce strict strictness by parsing target once and letting rAF handle the gap math natively\r\n        const endTimestamp = new Date(targetDate || fallbackTarget).getTime();\r\n\r\n        const updateTimer = () => {\r\n            const now = Date.now();\r\n            const difference = endTimestamp - now;\r\n\r\n            if (difference <= 0) {\r\n                setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });\r\n                return;\r\n            }\r\n\r\n            // Using pure math off the timestamp directly instead of repeatedly parsing dates\r\n            setTimeLeft({\r\n                days: Math.floor(difference / (1000 * 60 * 60 * 24)),\r\n                hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\r\n                minutes: Math.floor((difference / 1000 / 60) % 60),\r\n                seconds: Math.floor((difference / 1000) % 60)\r\n            });\r\n\r\n            // Re-request frame\r\n            reqRef.current = requestAnimationFrame(updateTimer);\r\n        };\r\n\r\n        // Start animation loop\r\n        reqRef.current = requestAnimationFrame(updateTimer);\r\n\r\n        return () => {\r\n            if (reqRef.current) cancelAnimationFrame(reqRef.current);\r\n        };\r\n    }, [targetDate, fallbackTarget]);\r\n\r\n    return (\r\n        <div className=\"system-card border border-white/5 p-8 flex flex-col lg:flex-row items-center justify-between gap-12 bg-white/[0.01]\">\r\n            <div className=\"flex-1 max-w-sm\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                    <span className=\"w-1.5 h-1.5 rounded-full animate-pulse\" style={{ backgroundColor: '#FFAB00', boxShadow: '0 0 10px #FFAB00, 0 0 20px #FFAB00' }}></span>\r\n                    <h3 className=\"text-xs font-bold uppercase tracking-[0.25em] text-white/40 leading-none\">{t.dashboard.extinctionTimer.marketTTL}</h3>\r\n                </div>\r\n                <p className=\"text-[13px] text-white/30 font-medium leading-relaxed italic\">\r\n                    {t.dashboard.extinctionTimer.extinctionSub}\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-8 lg:gap-12\">\r\n                <div className=\"flex items-baseline gap-2\">\r\n                    {/* Pulsing Copper Gold text shadow setup via custom style for robust rendering */}\r\n                    <span\r\n                        className=\"text-5xl font-black tracking-tight tabular-nums transition-all\"\r\n                        style={{ color: '#FFAB00', textShadow: '0 0 15px rgba(255, 171, 0, 0.4)' }}\r\n                    >\r\n                        {timeLeft.days}\r\n                    </span>\r\n                    <span className=\"text-[10px] font-bold text-white/10 uppercase tracking-widest\">{t.dashboard.extinctionTimer.days}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-baseline gap-1\">\r\n                        <span className=\"text-3xl font-bold text-white/80 tabular-nums\">{timeLeft.hours.toString().padStart(2, '0')}</span>\r\n                        <span className=\"text-[8px] font-bold text-white/10 uppercase tracking-widest\">H</span>\r\n                    </div>\r\n                    <span className=\"text-3xl font-light text-white/10\">:</span>\r\n                    <div className=\"flex items-baseline gap-1\">\r\n                        <span className=\"text-3xl font-bold text-white/80 tabular-nums\">{timeLeft.minutes.toString().padStart(2, '0')}</span>\r\n                        <span className=\"text-[8px] font-bold text-white/10 uppercase tracking-widest\">M</span>\r\n                    </div>\r\n                    <span className=\"text-3xl font-light text-white/10\">:</span>\r\n                    <div className=\"flex items-baseline gap-1\">\r\n                        <span className=\"text-3xl font-bold text-[#FFAB00]/80 tabular-nums animate-pulse\">{timeLeft.seconds.toString().padStart(2, '0')}</span>\r\n                        <span className=\"text-[8px] font-bold text-white/10 uppercase tracking-widest\">S</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"w-full lg:w-auto\">\r\n                <button\r\n                    className=\"w-full lg:w-auto px-8 py-3.5 text-[12px] font-bold tracking-[0.1em] uppercase flex items-center justify-center gap-3 rounded-xl transition-all hover:scale-105 active:scale-95\"\r\n                    style={{ backgroundColor: 'var(--color-ios-blue)', color: '#fff', boxShadow: '0 4px 15px rgba(0, 229, 255, 0.2)' }}\r\n                >\r\n                    <span className=\"material-symbols-outlined text-[16px]\">verified_user</span>\r\n                    {t.dashboard.extinctionTimer.deploy}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]}]